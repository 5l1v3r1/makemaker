// Generated by CoffeeScript 1.7.1
(function() {
  var Finder, Makefile, fs, func, makefile, output, path, result, _ref;

  path = require('path');

  fs = require('fs');

  Finder = require('./finder');

  Makefile = require('./makefile');

  if (process.argv.length !== 3) {
    console.log('Usage: makemaker <build.coffee>');
    process.exit(1);
  }

  func = require(path.resolve(process.argv[2]));

  _ref = func(Finder, Makefile), makefile = _ref.makefile, output = _ref.output;

  makefile.generateRules();

  result = makefile.encode();

  fs.writeFileSync(output, result);

}).call(this);
